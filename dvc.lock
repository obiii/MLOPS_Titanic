schema: '2.0'
stages:
  titanic_data:
    cmd:
    - kaggle competitions download -c titanic -f train.csv -p data/
    - kaggle competitions download -c titanic -f test.csv -p data/
    outs:
    - path: data/test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
    - path: data/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
  titanic_data_test:
    cmd: kaggle competitions download -c titanic -f test.csv
    outs:
    - path: test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
  prepare:
    cmd: python code/prepare.py
    deps:
    - path: data/test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
    - path: data/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
    outs:
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: data/train_prepared.pkl
      md5: 2470d3919e5af52906c47bc3514a4e60
      size: 74731
  Dvcfile:
    cmd: python code/train.py
    deps:
    - path: code/train.py
      md5: 15512f6df3f3dd7b235bb2f73df818fd
      size: 1676
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: data/train_prepared.pkl
      md5: 2470d3919e5af52906c47bc3514a4e60
      size: 74731
    outs:
    - path: data/metrics.json
      md5: bafb81e41f66de16e50c45906b6d3615
      size: 119
  train:
    cmd: python code/train.py
    deps:
    - path: code/train.py
      md5: b729f77e9033b32c30d1a6c0073308eb
      size: 1982
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: data/train_prepared.pkl
      md5: 2470d3919e5af52906c47bc3514a4e60
      size: 74731
    params:
      params.yaml:
        train.solver: newton-cg
    outs:
    - path: metrics/metrics.json
      md5: 2678131fb24c004beee1a293245a7bc7
      size: 119
    - path: models/bestModel.joblib
      md5: 185487d68cad0a100e9ef78945789df4
      size: 44836
  inference:
    cmd: python code/inference.py
    deps:
    - path: code/inference.py
      md5: 9e04c98fe35aa76268f0af3782783d73
      size: 274
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: models/bestModel.joblib
      md5: 185487d68cad0a100e9ef78945789df4
      size: 44836
    outs:
    - path: inference/predictions.csv
      md5: ea55d95de19f3a5d7378f74b6d3685fa
      size: 2830
