schema: '2.0'
stages:
  titanic_data:
    cmd:
    - kaggle competitions download -c titanic -f train.csv -p data/
    - kaggle competitions download -c titanic -f test.csv -p data/
    outs:
    - path: data/test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
    - path: data/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
  titanic_data_test:
    cmd: kaggle competitions download -c titanic -f test.csv
    outs:
    - path: test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
  prepare:
    cmd: python code/prepare.py
    deps:
    - path: data/test.csv
      md5: 029c9cd22461f6dbe8d9ab01def965c6
      size: 28629
    - path: data/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
    outs:
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: data/train_prepared.pkl
      md5: 2470d3919e5af52906c47bc3514a4e60
      size: 74731
  Dvcfile:
    cmd: python code/train.py
    deps:
    - path: code/train.py
      md5: 15512f6df3f3dd7b235bb2f73df818fd
      size: 1676
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: data/train_prepared.pkl
      md5: 2470d3919e5af52906c47bc3514a4e60
      size: 74731
    outs:
    - path: data/metrics.json
      md5: bafb81e41f66de16e50c45906b6d3615
      size: 119
  train:
    cmd: python code/train.py
    deps:
    - path: code/train.py
      md5: f132c233c6048e5597a82af475a1979c
      size: 1755
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: data/train_prepared.pkl
      md5: 2470d3919e5af52906c47bc3514a4e60
      size: 74731
    outs:
    - path: metrics/metrics.json
      md5: bafb81e41f66de16e50c45906b6d3615
      size: 119
    - path: models/bestModel.joblib
      md5: f005ea00a4d217492cf832166b724682
      size: 94621
  inference:
    cmd: python code/inference.py
    deps:
    - path: code/inference.py
      md5: 9e04c98fe35aa76268f0af3782783d73
      size: 274
    - path: data/test_prepared.pkl
      md5: 3c1e3a90f88c1b402406b11d5f8ed507
      size: 32573
    - path: models/bestModel.joblib
      md5: f005ea00a4d217492cf832166b724682
      size: 94621
    outs:
    - path: inference/predictions.csv
      md5: a0c9436078c89a5851bdcba55bbe25ac
      size: 2830
